import M from"./CL2XRbUU.js";import N from"./DC3KhBQE.js";import V from"./BlQ4OlaY.js";import{u as z,a as A,i as G,_ as j,b as U,c as $,e as Q,d as q}from"./DV3pXLFG.js";import{P as H,_ as J,r as t,o as K,G as O,v as W,z as o,Q as _,R as m,x as a,M as f,t as X,C as Y,D as Z,S as ee}from"./CKViNgqr.js";import"./C4kuDaWI.js";import"./BHQM6Y0u.js";import"./3E8kk17w.js";import"./YI6hp5Vv.js";import"./Bz3ZkRNu.js";import"./BntMmmML.js";import"./ST7o76O_.js";import"./C-vR0jP4.js";import"./Bg_NDDHk.js";import"./CWwowIoh.js";import"./Be9F7QpF.js";import"./CYLZlY2Y.js";function te(){const s=H();return{addErrorToast:(n,r)=>{s.add({severity:"error",summary:n,detail:r,life:5e3})}}}const b=s=>(Y("data-v-dc6a3632"),s=s(),Z(),s),oe={class:"h-full pb-4"},se=b(()=>a("div",{class:"flex"},null,-1)),ae={class:"absolute z-10 flex items-center justify-center w-full h-full bg-white bg-opacity-60"},ne=b(()=>a("p",{class:"mb-4 text-4xl"},"Â¿A dÃ³nde?ðŸš•ðŸ’¨",-1)),re={class:"my-4"},ce={__name:"taxi",setup(s){const{addErrorToast:c}=te(),n=t(),r=t([]),v=t([]),i=t(""),{getUserLocation:T}=z(),{loading:ie,distance:R,duration:I,fareCost:k,routeString:C,calculateTaxiFare:S}=A(n),h=t(null),x=t(!1),g=t(),w=t(),d=t(!0),l=t(!1);K(async()=>{try{n.value=await G(),r.value=await T(),console.log("originCoords.value ",r.value)}catch(e){c(null,e.message)}});const P=async()=>{try{i.value=await $();const e=await Q(i.value,n.value);v.value=e.Geometry.Point,i.value=e.Label,l.value=!0}catch{c(null,"Intente otra direccion")}};O([r,v],async([e,u])=>{if(e.length>0&&u.length>0)try{console.log(e,u),await S(e,u),h.value.drawRoute(C.value),x.value=!0,d.value=!0,l.value=!1,await ee(),w.value.scrollIntoView({behavior:"smooth"})}catch(p){l.value=!1,c(null,p.message)}});const B=()=>{g.value.scrollIntoView({behavior:"smooth"}),d.value=!1};return(e,u)=>{const p=M,D=N,y=V,E=q,F=j,L=U;return X(),W("div",oe,[se,o(p,{class:"!w-auto"}),_(a("div",ae,[o(D)],512),[[m,l.value]]),a("div",{class:"flex flex-col items-center justify-center h-screen",ref_key:"startRef",ref:g},[ne,o(y,{onClick:P,icon:"pi pi-microphone",severity:"warning",class:"mx-auto big p-button-rounded"})],512),_(a("div",{class:"flex flex-col",ref_key:"resultRef",ref:w},[a("div",re,[o(E,{ref_key:"mapRef",ref:h},null,512)]),o(F,{"fare-cost":f(k)},null,8,["fare-cost"]),o(L,{"origin-address":"Mi ubicacion","destination-address":i.value,distance:Number(f(R)),duration:Number(f(I))},null,8,["destination-address","distance","duration"]),_(o(y,{onClick:B,severity:"secondary",icon:"pi pi-angle-double-up",class:"!fixed !rounded-full bottom-5 end-5"},null,512),[[m,d.value]])],512),[[m,x.value]])])}}},ke=J(ce,[["__scopeId","data-v-dc6a3632"]]);export{ke as default};
