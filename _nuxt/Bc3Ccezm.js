import M from"./FmKOX_4L.js";import N from"./nJmSYjHz.js";import V from"./D8ice4wR.js";import{u as z,a as A,i as G,_ as j,b as U,c as $,e as Q,d as q}from"./Vm_9J9uH.js";import{P as H,_ as J,r as e,o as K,G as O,v as W,z as o,Q as p,R as _,x as a,M as f,t as X,C as Y,D as Z,S as ee}from"./BX9u-S97.js";import"./DeREV0UK.js";import"./W7saYQAB.js";import"./DbObpFtw.js";import"./C3x6GFg8.js";import"./MToy8EE3.js";import"./B77kneer.js";import"./BuC-Tlai.js";import"./BrRmn_CK.js";import"./jzXphvEm.js";import"./DAd7Bk_m.js";import"./D0e1isvS.js";import"./B1wmPbIp.js";function te(){const s=H();return{addErrorToast:(n,r)=>{s.add({severity:"error",summary:n,detail:r,life:5e3})}}}const g=s=>(Y("data-v-c0d4cbf9"),s=s(),Z(),s),oe={class:"h-full pb-4"},se=g(()=>a("div",{class:"flex"},null,-1)),ae={class:"absolute z-10 flex items-center justify-center w-full h-full bg-white bg-opacity-60"},ne=g(()=>a("p",{class:"mb-4 text-4xl"},"Â¿A dÃ³nde?ðŸš•ðŸ’¨",-1)),re={class:"my-4"},ce={__name:"taxi",setup(s){const{addErrorToast:c}=te(),n=e(),r=e([]),u=e([]),i=e(""),{getUserLocation:T}=z(),{loading:ie,distance:I,duration:R,fareCost:k,routeString:S,calculateTaxiFare:C}=A(n),m=e(null),v=e(!1),h=e(),x=e(),d=e(!0),l=e(!1);K(async()=>{n.value=await G();try{r.value=await T()}catch(t){c(null,t.message)}});const P=async()=>{try{i.value=await $();const t=await Q(i.value,n.value);u.value=t.Geometry.Point,i.value=t.Label,l.value=!0}catch{c(null,"Intente otra direccion")}};O([r,u],async([t,w])=>{if(t.length>0&&w.length>0)try{await C(r.value,u.value),m.value.drawRoute(S.value),v.value=!0,d.value=!0,l.value=!1,await ee(),x.value.scrollIntoView({behavior:"smooth"})}catch{l.value=!1,c(null,"Intente otra direccion")}});const B=()=>{h.value.scrollIntoView({behavior:"smooth"}),d.value=!1};return(t,w)=>{const y=M,D=N,b=V,E=q,F=j,L=U;return X(),W("div",oe,[se,o(y,{class:"!w-auto"}),p(a("div",ae,[o(D)],512),[[_,l.value]]),a("div",{class:"flex flex-col items-center justify-center h-screen",ref_key:"startRef",ref:h},[ne,o(b,{onClick:P,icon:"pi pi-microphone",severity:"warning",class:"mx-auto big p-button-rounded"})],512),p(a("div",{class:"flex flex-col",ref_key:"resultRef",ref:x},[a("div",re,[o(E,{ref_key:"mapRef",ref:m},null,512)]),o(F,{"fare-cost":f(k)},null,8,["fare-cost"]),o(L,{"origin-address":"Mi ubicacion","destination-address":i.value,distance:Number(f(I)),duration:Number(f(R))},null,8,["destination-address","distance","duration"]),p(o(b,{onClick:B,severity:"secondary",icon:"pi pi-angle-double-up",class:"!fixed !rounded-full bottom-5 end-5"},null,512),[[_,d.value]])],512),[[_,v.value]])])}}},ke=J(ce,[["__scopeId","data-v-c0d4cbf9"]]);export{ke as default};
