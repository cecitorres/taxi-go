import Bs from"./D7t0K8to.js";import Ms from"./CDvPlLVg.js";import $s from"./D-xVGcbE.js";import{l as Is,r as $,v as Fs,x as R,z as Ue,A as ks,t as Ns,B as Ce,y as He,N as Ls}from"./fk934glN.js";import"./B3Gb-yjc.js";import"./CoXqBIbO.js";import"./ip_3ZGe-.js";import"./BrvyoC2Z.js";import"./MfG51dn5.js";import"./BSKEDZXN.js";import"./Bn1fj2tw.js";import"./BFXcZchW.js";import"./4wTHGGIB.js";import"./DPI6d8Xx.js";import"./CBwlfOW0.js";const ie={DAY:{BASE:8.78,RATE_PER_KM:5.22,TIME_RATE:1.04},NIGHT:{BASE:10.53,RATE_PER_KM:6.27,TIME_RATE:1.25}},wr=(e,t,r,n,i)=>{const s=t+e*r,o=Math.ceil(i/45)*n,a=s+o;return console.log("calculateTaxiFare ",s,o),a},js=(e,t)=>{const r=wr(e,ie.DAY.BASE,ie.DAY.RATE_PER_KM,ie.DAY.TIME_RATE,t),n=wr(e,ie.NIGHT.BASE,ie.NIGHT.RATE_PER_KM,ie.NIGHT.TIME_RATE,t);return console.log("getTaxiFare",r,n),[r.toFixed(2),n.toFixed(2)]},Us=(e,t,r)=>{let n,i,s,o=!1;const a=async()=>{i||(i=e());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return t===void 0?async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),n):async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},Hs=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},qs=e=>({httpHandler:e.httpHandler()});var br;(function(e){e.HEADER="header",e.QUERY="query"})(br||(br={}));var _r;(function(e){e.HEADER="header",e.QUERY="query"})(_r||(_r={}));var De;(function(e){e.HTTP="http",e.HTTPS="https"})(De||(De={}));var Ke;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Ke||(Ke={}));var vr;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(vr||(vr={}));const Ct="__smithy_context";var Sr;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Sr||(Sr={}));var xr;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(xr||(xr={}));class q{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const t=new q({...this,headers:{...this.headers}});return t.query&&(t.query=Gs(t.query)),t}}function Gs(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class Ze{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function Vt(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}const te=e=>encodeURIComponent(e).replace(/[!'()*]/g,zs),zs=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Vs(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=te(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)t.push(`${r}=${te(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${te(n)}`),t.push(i)}}return t.join("&")}function Ws(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const Ks={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")};class Wt{static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new Wt(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,i=this.config.keepAlive===!0;if(r!=null&&r.aborted){const m=new Error("Request aborted");return m.name="AbortError",Promise.reject(m)}let s=t.path;const o=Vs(t.query||{});o&&(s+=`?${o}`),t.fragment&&(s+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){const m=t.username??"",g=t.password??"";a=`${m}:${g}@`}const{port:u,method:c}=t,l=`${t.protocol}//${a}${t.hostname}${u?`:${u}`:""}${s}`,d={body:c==="GET"||c==="HEAD"?void 0:t.body,headers:new Headers(t.headers),method:c};typeof AbortController<"u"&&(d.signal=r),Ks.supported&&(d.keepalive=i);const h=new Request(l,d),y=[fetch(h).then(m=>{const g=m.headers,w={};for(const E of g.entries())w[E[0]]=E[1];return m.body!=null?{response:new Ze({headers:w,reason:m.statusText,statusCode:m.status,body:m.body})}:m.blob().then(E=>({response:new Ze({headers:w,reason:m.statusText,statusCode:m.status,body:E})}))}),Ws(n)];return r&&y.push(new Promise((m,g)=>{r.onabort=()=>{const w=new Error("Request aborted");w.name="AbortError",g(w)}})),Promise.race(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const Q={},le=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){const n=String.fromCharCode(e+t);Q[n]=e,le[e]=n}for(let e=0,t=97,r=122;e+t<=r;e++){const n=String.fromCharCode(e+t),i=e+26;Q[n]=i,le[i]=n}for(let e=0;e<10;e++){Q[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;Q[t]=r,le[r]=t}Q["+"]=62;le[62]="+";Q["/"]=63;le[63]="/";const ae=6,Re=8,Zs=63,Kt=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let i=0;i<e.length;i+=4){let s=0,o=0;for(let c=i,l=i+3;c<=l;c++)if(e[c]!=="="){if(!(e[c]in Q))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);s|=Q[e[c]]<<(l-c)*ae,o+=ae}else s>>=ae;const a=i/4*3;s>>=o%Re;const u=Math.floor(o/Re);for(let c=0;c<u;c++){const l=(u-c-1)*Re;n.setUint8(a+c,(s&255<<l)>>l)}}return new Uint8Array(r)},Le=e=>new TextEncoder().encode(e),Pe=e=>typeof e=="string"?Le(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Zt=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function Mn(e){let t;typeof e=="string"?t=Le(e):t=e;const r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<t.length;s+=3){let o=0,a=0;for(let c=s,l=Math.min(s+3,t.length);c<l;c++)o|=t[c]<<(l-c-1)*Re,a+=Re;const u=Math.ceil(a/ae);o<<=u*ae-a;for(let c=1;c<=u;c++){const l=(u-c)*ae;i+=le[(o&Zs<<l)>>l]}i+="==".slice(0,4-u)}return i}const Qs=e=>typeof Blob=="function"&&e instanceof Blob?Xs(e):Ys(e);async function Xs(e){const t=await Js(e),r=Kt(t);return new Uint8Array(r)}async function Ys(e){let t=new Uint8Array(0);const r=e.getReader();let n=!1;for(;!n;){const{done:i,value:s}=await r.read();if(s){const o=t;t=new Uint8Array(o.length+s.length),t.set(o),t.set(s,o.length)}n=i}return t}function Js(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;t(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}class $n{trace(){}debug(){}info(){}warn(){}error(){}}const ee=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},W=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Qe=()=>{let e=[],t=[],r=!1;const n=new Set,i=f=>f.sort((d,h)=>Er[h.step]-Er[d.step]||Ar[h.priority||"normal"]-Ar[d.priority||"normal"]),s=f=>{let d=!1;const h=y=>{const m=ee(y.name,y.aliases);if(m.includes(f)){d=!0;for(const g of m)n.delete(g);return!1}return!0};return e=e.filter(h),t=t.filter(h),d},o=f=>{let d=!1;const h=y=>{if(y.middleware===f){d=!0;for(const m of ee(y.name,y.aliases))n.delete(m);return!1}return!0};return e=e.filter(h),t=t.filter(h),d},a=f=>{var d;return e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),(d=f.identifyOnResolve)==null||d.call(f,l.identifyOnResolve()),f},u=f=>{const d=[];return f.before.forEach(h=>{h.before.length===0&&h.after.length===0?d.push(h):d.push(...u(h))}),d.push(f),f.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?d.push(h):d.push(...u(h))}),d},c=(f=!1)=>{const d=[],h=[],y={};return e.forEach(g=>{const w={...g,before:[],after:[]};for(const b of ee(w.name,w.aliases))y[b]=w;d.push(w)}),t.forEach(g=>{const w={...g,before:[],after:[]};for(const b of ee(w.name,w.aliases))y[b]=w;h.push(w)}),h.forEach(g=>{if(g.toMiddleware){const w=y[g.toMiddleware];if(w===void 0){if(f)return;throw new Error(`${g.toMiddleware} is not found when adding ${W(g.name,g.aliases)} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&w.after.push(g),g.relation==="before"&&w.before.push(g)}}),i(d).map(u).reduce((g,w)=>(g.push(...w),g),[])},l={add:(f,d={})=>{const{name:h,override:y,aliases:m}=d,g={step:"initialize",priority:"normal",middleware:f,...d},w=ee(h,m);if(w.length>0){if(w.some(b=>n.has(b))){if(!y)throw new Error(`Duplicate middleware name '${W(h,m)}'`);for(const b of w){const E=e.findIndex(C=>{var _;return C.name===b||((_=C.aliases)==null?void 0:_.some(O=>O===b))});if(E===-1)continue;const D=e[E];if(D.step!==g.step||g.priority!==D.priority)throw new Error(`"${W(D.name,D.aliases)}" middleware with ${D.priority} priority in ${D.step} step cannot be overridden by "${W(h,m)}" middleware with ${g.priority} priority in ${g.step} step.`);e.splice(E,1)}}for(const b of w)n.add(b)}e.push(g)},addRelativeTo:(f,d)=>{const{name:h,override:y,aliases:m}=d,g={middleware:f,...d},w=ee(h,m);if(w.length>0){if(w.some(b=>n.has(b))){if(!y)throw new Error(`Duplicate middleware name '${W(h,m)}'`);for(const b of w){const E=t.findIndex(C=>{var _;return C.name===b||((_=C.aliases)==null?void 0:_.some(O=>O===b))});if(E===-1)continue;const D=t[E];if(D.toMiddleware!==g.toMiddleware||D.relation!==g.relation)throw new Error(`"${W(D.name,D.aliases)}" middleware ${D.relation} "${D.toMiddleware}" middleware cannot be overridden by "${W(h,m)}" middleware ${g.relation} "${g.toMiddleware}" middleware.`);t.splice(E,1)}}for(const b of w)n.add(b)}t.push(g)},clone:()=>a(Qe()),use:f=>{f.applyToStack(l)},remove:f=>typeof f=="string"?s(f):o(f),removeByTag:f=>{let d=!1;const h=y=>{const{tags:m,name:g,aliases:w}=y;if(m&&m.includes(f)){const b=ee(g,w);for(const E of b)n.delete(E);return d=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),d},concat:f=>{var h;const d=a(Qe());return d.use(f),d.identifyOnResolve(r||d.identifyOnResolve()||(((h=f.identifyOnResolve)==null?void 0:h.call(f))??!1)),d},applyToStack:a,identify:()=>c(!0).map(f=>{const d=f.step??f.relation+" "+f.toMiddleware;return W(f.name,f.aliases)+" - "+d}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,d)=>{for(const h of c().map(y=>y.middleware).reverse())f=h(f,d);return r&&console.log(l.identify()),f}};return l},Er={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ar={high:3,normal:2,low:1};class ei{constructor(t){this.middlewareStack=Qe(),this.config=t}send(t,r,n){const i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}function ti(e,t="utf-8"){return t==="base64"?Mn(e):Zt(e)}function ri(e,t){return t==="base64"?re.mutate(Kt(e)):re.mutate(Le(e))}class re extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return ri(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,re.prototype),t}transformToString(t="utf-8"){return ti(this,t)}}const In={},Rt={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),In[e]=t,Rt[t]=e}function ni(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in Rt)t[r/2]=Rt[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function k(e){let t="";for(let r=0;r<e.byteLength;r++)t+=In[e[r]];return t}const si=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return re.mutate(e);if(!e)return re.mutate(new Uint8Array);const r=t.streamCollector(e);return re.mutate(await r)};class nt{constructor(){this.middlewareStack=Qe()}static classBuilder(){return new ii}resolveMiddlewareWithContext(t,r,n,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:c,additionalContext:l,CommandCtor:f}){for(const g of i.bind(this)(f,t,r,n))this.middlewareStack.use(g);const d=t.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[Ct]:{...c},...l},{requestHandler:m}=r;return d.resolve(g=>m.handle(g.request,n||{}),y)}}class ii{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){const t=this;let r;return r=class extends nt{static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=n??{},t._init(this)}resolveMiddleware(n,i,s){return this.resolveMiddlewareWithContext(n,i,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const P="***SensitiveInformation***",oi=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ye.warn(Xe(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const t=e.toLowerCase();if((t==="false"||t==="true")&&Ye.warn(Xe(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ai=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ye.warn(Xe(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},ci=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Fn=e=>ui(e,32),ui=(e,t)=>{const r=ci(e);if(r!==void 0&&li(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},li=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Qt=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Xt=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},S=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ye.warn(Xe(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},X=e=>typeof e=="string"?di(e):ai(e),di=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Xe=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ye={warn:console.warn};class Yt extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Yt.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const J=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},fi=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const i=pi(e),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:i});throw J(o,t)},hi=e=>({output:t,parsedBody:r,errorCode:n})=>{fi({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},pi=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),yi=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},mi=e=>{const t=[];for(const r in Ke){const n=Ke[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},gi=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},wi=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},bi=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},_i=e=>({...mi(e),...wi(e)}),vi=e=>({...gi(e),...bi(e)});function Cr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const Pt=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Pt.prototype=Object.create(String.prototype,{constructor:{value:Pt,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Pt,String);function M(e,t,r){let n,i,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return i=t,s=r,Si(n,i,s);s=t}for(const o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}kn(n,null,s,o)}return n}const x=(e,t)=>{const r={};for(const n in t)kn(r,e,t,n);return r},Si=(e,t,r)=>M(e,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[t,s()]:n[i]=[t,s],n),{})),kn=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=xi,u=Ei,c=n]=o;(typeof a=="function"&&a(t[c])||typeof a!="function"&&a)&&(e[n]=u(t[c]));return}let[i,s]=r[n];if(typeof s=="function"){let o;const a=i===void 0&&(o=s())!=null,u=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?e[n]=o:u&&(e[n]=s())}else{const o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(e[n]=s)}},xi=e=>e!=null,Ei=e=>e,Ai=(e,t,r,n,i,s)=>{if(t!=null&&t[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,s?o.split("/").map(a=>Cr(a)).join("/"):Cr(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},ce=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},L=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(L);if(typeof e=="object"){const t={};for(const r of Object.keys(e))e[r]!=null&&(t[r]=L(e[r]));return t}return e};function se(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}const Ci=e=>{const t=[];for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){const s=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},Ri=e=>{let t="";for(let r=0,n=e.length;r<n;r++){const i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const s=e[++r];t+=String.fromCharCode((i&31)<<6|s&63)}else if(240<=i&&i<365){const o="%"+[i,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function Pi(e){return new TextEncoder().encode(e)}function Ti(e){return new TextDecoder("utf-8").decode(e)}const Oi=e=>typeof TextEncoder=="function"?Pi(e):Ci(e),Di=e=>typeof TextDecoder=="function"?Ti(e):Ri(e),Bi=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Oi,toUtf8:Di},Symbol.toStringTag,{value:"Module"})),Nn=se(Bi),Mi={};function $i(){return typeof window<"u"?window:typeof self<"u"?self:Mi}const Ii=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:$i},Symbol.toStringTag,{value:"Module"})),Jt=se(Ii),Fi={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Ln={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},A={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},B={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},K={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class p{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=p.getVersionPrecision(t),s=p.getVersionPrecision(r);let o=Math.max(i,s),a=0;const u=p.map([t,r],c=>{const l=o-p.getVersionPrecision(c),f=c+new Array(l+1).join(".0");return p.map(f.split("."),d=>new Array(20-d.length).join("0")+d).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const s=t[n];if(r(s,n))return s}}static assign(t,...r){const n=t;let i,s;if(Object.assign)return Object.assign(t,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{n[u]=o[u]})}return t}static getBrowserAlias(t){return Fi[t]}static getBrowserTypeByAlias(t){return Ln[t]||""}}const v=/version\/(\d+(\.?_?\d+)+)/i,ki=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=p.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=p.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=p.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=p.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=p.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=p.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=p.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=p.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=p.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=p.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=p.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=p.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=p.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=p.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=p.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=p.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=p.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=p.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=p.getFirstMatch(v,e)||p.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=p.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=p.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=p.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=p.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=p.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=p.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=p.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=p.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=p.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=p.getFirstMatch(v,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:p.getFirstMatch(i,e),version:p.getSecondMatch(i,e)}}}],Ni=[{test:[/Roku\/DVP/],describe(e){const t=p.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:B.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=p.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:B.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=p.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=p.getWindowsVersionName(t);return{name:B.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:B.iOS},r=p.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=p.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=p.getMacOSVersionName(t),n={name:B.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=p.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:B.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=p.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=p.getAndroidVersionName(t),n={name:B.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=p.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:B.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=p.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||p.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||p.getFirstMatch(/\bbb(\d+)/i,e);return{name:B.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=p.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:B.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=p.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:B.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:B.Linux}}},{test:[/CrOS/],describe(){return{name:B.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=p.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:B.PlayStation4,version:t}}}],Li=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=p.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:A.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:A.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:A.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:A.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:A.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:A.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:A.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=p.getFirstMatch(/(ipod|iphone)/i,e);return{type:A.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:A.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:A.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:A.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:A.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:A.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:A.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:A.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:A.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:A.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:A.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:A.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:A.tv}}}],ji=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:K.Blink};const r=p.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:K.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:K.Trident},r=p.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:K.Presto},r=p.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:K.Gecko},r=p.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:K.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:K.WebKit},r=p.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Rr{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=p.find(ki,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=p.find(Ni,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=p.find(Li,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=p.find(ji,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return p.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let s=0;if(Object.keys(t).forEach(a=>{const u=t[a];typeof u=="string"?(i[a]=u,s+=1):typeof u=="object"&&(r[a]=u,n+=1)}),n>0){const a=Object.keys(r),u=p.find(a,l=>this.isOS(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}const c=p.find(a,l=>this.isPlatform(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}}if(s>0){const a=Object.keys(i),u=p.find(a,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const s=p.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(p.compareVersions(s,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class jn{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Rr(t,r)}static parse(t){return new Rr(t).getResult()}static get BROWSER_MAP(){return Ln}static get ENGINE_MAP(){return K}static get OS_MAP(){return B}static get PLATFORMS_MAP(){return A}}async function Ui(e){return{getLocationClientConfig:()=>({signer:{sign:async t=>{var r;return t.query=Object.assign({key:e},(r=t.query)!==null&&r!==void 0?r:{}),t}},credentials:async()=>({})})}}const Hi=e=>t=>async r=>{if(!q.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},qi={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Gi=e=>({applyToStack:t=>{t.add(Hi(e),qi)}}),zi=()=>(e,t)=>async r=>{var n,i;try{const s=await e(r),{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=c,d=l??t.inputFilterSensitiveLog,h=f??t.outputFilterSensitiveLog,{$metadata:y,...m}=s.output;return(n=u==null?void 0:u.info)==null||n.call(u,{clientName:o,commandName:a,input:d(r.input),output:h(m),metadata:y}),s}catch(s){const{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l}=c,f=l??t.inputFilterSensitiveLog;throw(i=u==null?void 0:u.error)==null||i.call(u,{clientName:o,commandName:a,input:f(r.input),error:s,metadata:s.$metadata}),s}},Vi={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Wi=e=>({applyToStack:t=>{t.add(zi(),Vi)}});var Pr={};const Tr="X-Amzn-Trace-Id",Ki="AWS_LAMBDA_FUNCTION_NAME",Zi="_X_AMZN_TRACE_ID",Qi=e=>t=>async r=>{const{request:n}=r;if(!q.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(Tr))return t(r);const i=Pr[Ki],s=Pr[Zi],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(n.headers[Tr]=s),t({...r,request:n})},Xi={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Yi=e=>({applyToStack:t=>{t.add(Qi(e),Xi)}});function Ji(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const eo=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Un=e=>eo.test(e)||e.startsWith("[")&&e.endsWith("]"),to=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),er=(e,t=!1)=>{if(!t)return to.test(e);const r=e.split(".");for(const n of r)if(!er(n))return!1;return!0},Je={},Be="endpoints";function Y(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Y(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Y).join(", ")})`:JSON.stringify(e,null,2)}class F extends Error{constructor(t){super(t),this.name="EndpointError"}}const ro=(e,t)=>e===t,no=e=>{const t=e.split("."),r=[];for(const n of t){const i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new F(`Path: '${e}' does not end with ']'`);const s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new F(`Invalid array index: '${s}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},Hn=(e,t)=>no(t).reduce((r,n)=>{if(typeof r!="object")throw new F(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),so=e=>e!=null,io=e=>!e,ct={[De.HTTP]:80,[De.HTTPS]:443},oo=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:d,port:h,protocol:y="",path:m="",query:g={}}=e,w=new URL(`${y}//${d}${h?`:${h}`:""}${m}`);return w.search=Object.entries(g).map(([b,E])=>`${b}=${E}`).join("&"),w}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=t;if(a)return null;const u=o.slice(0,-1);if(!Object.values(De).includes(u))return null;const c=Un(i),l=r.includes(`${n}:${ct[u]}`)||typeof e=="string"&&e.includes(`${n}:${ct[u]}`),f=`${n}${l?`:${ct[u]}`:""}`;return{scheme:u,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:c}},ao=(e,t)=>e===t,co=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),uo=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),lo={booleanEquals:ro,getAttr:Hn,isSet:so,isValidHostLabel:er,not:io,parseURL:oo,stringEquals:ao,substring:co,uriEncode:uo},qn=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let i=0;for(;i<e.length;){const s=e.indexOf("{",i);if(s===-1){r.push(e.slice(i));break}r.push(e.slice(i,s));const o=e.indexOf("}",s);if(o===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(s+1,o)),i=o+2);const a=e.substring(s+1,o);if(a.includes("#")){const[u,c]=a.split("#");r.push(Hn(n[u],c))}else r.push(n[a]);i=o+1}return r.join("")},fo=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],st=(e,t,r)=>{if(typeof e=="string")return qn(e,r);if(e.fn)return Gn(e,r);if(e.ref)return fo(e,r);throw new F(`'${t}': ${String(e)} is not a string, function or reference.`)},Gn=({fn:e,argv:t},r)=>{const n=t.map(s=>["boolean","number"].includes(typeof s)?s:st(s,"arg",r)),i=e.split(".");return i[0]in Je&&i[1]!=null?Je[i[0]][i[1]](...n):lo[e](...n)},ho=({assign:e,...t},r)=>{var i,s;if(e&&e in r.referenceRecord)throw new F(`'${e}' is already defined in Reference Record.`);const n=Gn(t,r);return(s=(i=r.logger)==null?void 0:i.debug)==null||s.call(i,Be,`evaluateCondition: ${Y(t)} = ${Y(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},tr=(e=[],t)=>{var n,i;const r={};for(const s of e){const{result:o,toAssign:a}=ho(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(i=(n=t.logger)==null?void 0:n.debug)==null||i.call(n,Be,`assign: ${a.name} := ${Y(a.value)}`))}return{result:!0,referenceRecord:r}},po=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{const o=st(s,"Header value entry",t);if(typeof o!="string")throw new F(`Header '${n}' value '${o}' is not a string`);return o})}),{}),zn=(e,t)=>{if(Array.isArray(e))return e.map(r=>zn(r,t));switch(typeof e){case"string":return qn(e,t);case"object":if(e===null)throw new F(`Unexpected endpoint property: ${e}`);return Vn(e,t);case"boolean":return e;default:throw new F(`Unexpected endpoint property type: ${typeof e}`)}},Vn=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:zn(i,t)}),{}),yo=(e,t)=>{const r=st(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new F(`Endpoint URL must be a string, got ${typeof r}`)},mo=(e,t)=>{var l,f;const{conditions:r,endpoint:n}=e,{result:i,referenceRecord:s}=tr(r,t);if(!i)return;const o={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:u,headers:c}=n;return(f=(l=t.logger)==null?void 0:l.debug)==null||f.call(l,Be,`Resolving endpoint from template: ${Y(n)}`),{...c!=null&&{headers:po(c,o)},...u!=null&&{properties:Vn(u,o)},url:yo(a,o)}},go=(e,t)=>{const{conditions:r,error:n}=e,{result:i,referenceRecord:s}=tr(r,t);if(i)throw new F(st(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},wo=(e,t)=>{const{conditions:r,rules:n}=e,{result:i,referenceRecord:s}=tr(r,t);if(i)return Wn(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},Wn=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=mo(r,t);if(n)return n}else if(r.type==="error")go(r,t);else if(r.type==="tree"){const n=wo(r,t);if(n)return n}else throw new F(`Unknown endpoint rule: ${r}`);throw new F("Rules evaluation failed")},bo=(e,t)=>{var c,l,f,d,h;const{endpointParams:r,logger:n}=t,{parameters:i,rules:s}=e;(l=(c=t.logger)==null?void 0:c.debug)==null||l.call(c,`${Be} Initial EndpointParams: ${Y(r)}`);const o=Object.entries(i).filter(([,y])=>y.default!=null).map(([y,m])=>[y,m.default]);if(o.length>0)for(const[y,m]of o)r[y]=r[y]??m;const a=Object.entries(i).filter(([,y])=>y.required).map(([y])=>y);for(const y of a)if(r[y]==null)throw new F(`Missing required parameter: '${y}'`);const u=Wn(s,{endpointParams:r,logger:n,referenceRecord:{}});if((f=t.endpointParams)!=null&&f.Endpoint)try{const y=new URL(t.endpointParams.Endpoint),{protocol:m,port:g}=y;u.url.protocol=m,u.url.port=g}catch{}return(h=(d=t.logger)==null?void 0:d.debug)==null||h.call(d,`${Be} Resolved endpoint: ${Y(u)}`),u},Kn=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!Kn(r))return!1;return!0}return!(!er(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Un(e))},_o=e=>{const t=e.split(":");if(t.length<6)return null;const[r,n,i,s,o,...a]=t;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},vo=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],So="1.1",xo={partitions:vo,version:So};let Eo=xo;const Ao=e=>{const{partitions:t}=Eo;for(const n of t){const{regions:i,outputs:s}=n;for(const[o,a]of Object.entries(i))if(o===e)return{...s,...a}}for(const n of t){const{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(e))return{...s}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Zn={isVirtualHostableS3Bucket:Kn,parseArn:_o,partition:Ao};Je.aws=Zn;const Or="user-agent",ut="x-amz-user-agent",Dr=" ",lt="/",Co=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ro=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Br="-",Po=e=>(t,r)=>async n=>{var f,d;const{request:i}=n;if(!q.isInstance(i))return t(n);const{headers:s}=i,o=((f=r==null?void 0:r.userAgent)==null?void 0:f.map(dt))||[],a=(await e.defaultUserAgentProvider()).map(dt),u=((d=e==null?void 0:e.customUserAgent)==null?void 0:d.map(dt))||[],c=[].concat([...a,...o,...u]).join(Dr),l=[...a.filter(h=>h.startsWith("aws-sdk-")),...u].join(Dr);return e.runtime!=="browser"?(l&&(s[ut]=s[ut]?`${s[Or]} ${l}`:l),s[Or]=c):s[ut]=c,t({...n,request:i})},dt=e=>{var o;const t=e[0].split(lt).map(a=>a.replace(Co,Br)).join(lt),r=(o=e[1])==null?void 0:o.replace(Ro,Br),n=t.indexOf(lt),i=t.substring(0,n);let s=t.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(a=>a&&a.length>0).reduce((a,u,c)=>{switch(c){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")},To={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Oo=e=>({applyToStack:t=>{t.add(Po(e),To)}});var Mr;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Mr||(Mr={}));const Do=!1,Bo=!1,it=e=>e[Ct]||(e[Ct]={}),Z=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},Qn=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),$r=e=>Qn(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Mo=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return $r(t);const n=await t();return $r(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return Qn(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};function $o(e){const t=new Map;for(const r of e)t.set(r.schemeId,r);return t}const Io=(e,t)=>(r,n)=>async i=>{var c;const s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,i.input)),o=$o(e.httpAuthSchemes),a=it(n),u=[];for(const l of s){const f=o.get(l.schemeId);if(!f){u.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}const d=f.identityProvider(await t.identityProviderConfigProvider(e));if(!d){u.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:h={},signingProperties:y={}}=((c=l.propertiesExtractor)==null?void 0:c.call(l,e,n))||{};l.identityProperties=Object.assign(l.identityProperties||{},h),l.signingProperties=Object.assign(l.signingProperties||{},y),a.selectedHttpAuthScheme={httpAuthOption:l,identity:await d(l.identityProperties),signer:f.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(i)},Fo=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Uo(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!jo(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},ko=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,No=/(\d+\.){3}\d+/,Lo=/\.\./,jo=e=>ko.test(e)&&!No.test(e)&&!Lo.test(e),Uo=e=>{const[t,r,n,i,s,o]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,u=[t,r,n,s,o].filter(Boolean).length===5;if(a&&!u)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!o},Ho=(e,t,r)=>{const n=async()=>{const i=r[e]??r[t];return typeof i=="function"?i():i};return e==="credentialScope"||t==="CredentialScope"?async()=>{const i=typeof r.credentials=="function"?await r.credentials():r.credentials;return(i==null?void 0:i.credentialScope)??(i==null?void 0:i.CredentialScope)}:e==="endpoint"||t==="endpoint"?async()=>{const i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){const{protocol:s,hostname:o,port:a,path:u}=i;return`${s}//${o}${a?":"+a:""}${u}`}}return i}:n},qo=async e=>{};function Go(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}const et=e=>{if(typeof e=="string")return et(new URL(e));const{hostname:t,pathname:r,port:n,protocol:i,search:s}=e;let o;return s&&(o=Go(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},Xn=e=>typeof e=="object"?"url"in e?et(e.url):e:et(e),zo=async(e,t,r,n)=>{if(!r.endpoint){const o=await qo(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(Xn(o)))}const i=await Vo(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},Vo=async(e,t,r)=>{var s;const n={},i=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(const[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await Ho(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Fo(n),n},Wo=({config:e,instructions:t})=>(r,n)=>async i=>{var a,u,c;const s=await zo(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;const o=(u=n.authSchemes)==null?void 0:u[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const l=it(n),f=(c=l==null?void 0:l.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...i})},Ko=(e,t)=>(r,n)=>async i=>{const{response:s}=await r(i);try{const o=await t(s,e);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}},Zo=(e,t)=>(r,n)=>async i=>{var a;const s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const o=await t(i.input,{...e,endpoint:s});return r({...i,request:o})},Qo={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},rr={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function nr(e,t,r){return{applyToStack:n=>{n.add(Ko(e,r),Qo),n.add(Zo(e,t),rr)}}}const Yn={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:rr.name},sr=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Wo({config:e,instructions:t}),Yn)}}),Xo=e=>{const t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Xn(await Z(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Z(e.useDualstackEndpoint??!1),useFipsEndpoint:Z(e.useFipsEndpoint??!1)}},Yo={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Yn.name},Jo=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Io(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Yo)}});rr.name;const ea=e=>t=>{throw t},ta=(e,t)=>{},ra=e=>(t,r)=>async n=>{if(!q.isInstance(n.request))return t(n);const s=it(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:u}=s,c=await t({...n,request:await u.sign(n.request,a,o)}).catch((u.errorHandler||ea)(o));return(u.successHandler||ta)(c.response,o),c};var ue;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(ue||(ue={}));const tt=3,na=ue.STANDARD,sa=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],ia=["TimeoutError","RequestTimeout","RequestTimeoutException"],oa=[500,502,503,504],aa=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],ca=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},Jn=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||sa.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},es=e=>{var t;return ca(e)||ia.includes(e.name)||aa.includes((e==null?void 0:e.code)||"")||oa.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},ua=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!es(e)}return!1};class la{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Jn(t)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}const Tt=100,ts=20*1e3,da=500,Ir=500,fa=5,ha=10,pa=1,ya="amz-sdk-invocation-id",ma="amz-sdk-request",ga=()=>{let e=Tt;return{computeNextBackoffDelay:n=>Math.floor(Math.min(ts,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},Fr=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(ts,e),getRetryCost:()=>r});class rs{constructor(t){this.maxAttempts=t,this.mode=ue.STANDARD,this.capacity=Ir,this.retryBackoffStrategy=ga(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Fr({retryDelay:Tt,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?da:Tt);const s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,Fr({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ir,this.capacity+(t.getRetryCost()??pa))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${tt}`),tt}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?ha:fa}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class wa{constructor(t,r){this.maxAttemptsProvider=t,this.mode=ue.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new la,this.standardRetryStrategy=new rs(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}let qe;const ba=new Uint8Array(16);function _a(){if(!qe&&(qe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qe(ba)}const T=[];for(let e=0;e<256;++e)T.push((e+256).toString(16).slice(1));function va(e,t=0){return T[e[t+0]]+T[e[t+1]]+T[e[t+2]]+T[e[t+3]]+"-"+T[e[t+4]]+T[e[t+5]]+"-"+T[e[t+6]]+T[e[t+7]]+"-"+T[e[t+8]]+T[e[t+9]]+"-"+T[e[t+10]]+T[e[t+11]]+T[e[t+12]]+T[e[t+13]]+T[e[t+14]]+T[e[t+15]]}const Sa=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kr={randomUUID:Sa};function xa(e,t,r){if(kr.randomUUID&&!t&&!e)return kr.randomUUID();e=e||{};const n=e.random||(e.rng||_a)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return va(n)}const Ea=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Aa=e=>{const{retryStrategy:t}=e,r=Z(e.maxAttempts??tt);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await Z(e.retryMode)()===ue.ADAPTIVE?new wa(r):new rs(r))}},Ca=e=>(e==null?void 0:e.body)instanceof ReadableStream,Ra=e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy();const s=await e.maxAttempts();if(Pa(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),u=new Error,c=0,l=0;const{request:f}=n,d=q.isInstance(f);for(d&&(f.headers[ya]=xa());;)try{d&&(f.headers[ma]=`attempt=${c+1}; max=${s}`);const{response:h,output:y}=await t(n);return i.recordSuccess(a),y.$metadata.attempts=c+1,y.$metadata.totalRetryDelay=l,{response:h,output:y}}catch(h){const y=Ta(h);if(u=Ea(h),d&&Ca(f))throw(o=r.logger instanceof $n?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),u;try{a=await i.refreshRetryTokenForRetry(a,y)}catch{throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=l,u}c=a.getRetryCount();const m=a.getRetryDelay();l+=m,await new Promise(g=>setTimeout(g,m))}}else return i=i,i!=null&&i.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},Pa=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Ta=e=>{const t={error:e,errorType:Oa(e)},r=Ba(e.$response);return r&&(t.retryAfterHint=r),t},Oa=e=>Jn(e)?"THROTTLING":es(e)?"TRANSIENT":ua(e)?"SERVER_ERROR":"CLIENT_ERROR",ns={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Da=e=>({applyToStack:t=>{t.add(Ra(e),ns)}}),Ba=e=>{if(!Ze.isInstance(e))return;const t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},Ma={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:ns.name},$a=e=>({applyToStack:t=>{t.addRelativeTo(ra(),Ma)}});class Ia{constructor(t){this.authSchemes=new Map;for(const[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}const Fa=e=>t=>ss(t)&&t.expiration.getTime()-Date.now()<e,ka=3e5,Na=Fa(ka),ss=e=>e.expiration!==void 0,La=(e,t,r)=>{if(e===void 0)return;const n=typeof e!="function"?async()=>Promise.resolve(e):e;let i,s,o,a=!1;const u=async c=>{s||(s=n(c));try{i=await s,o=!0,a=!1}finally{s=void 0}return i};return t===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(i=await u(c)),i):async c=>((!o||c!=null&&c.forceRefresh)&&(i=await u(c)),a?i:r(i)?(t(i)&&await u(c),i):(a=!0,i))},Ge=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t};function ir(e,t){return new ja(e,t)}class ja{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(const s of this.resolvePathStack)s(this.path);return new q({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,i){return this.resolvePathStack.push(s=>{this.path=Ai(s,this.input,t,r,n,i)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}const Nr="content-length";function Ua(e){return t=>async r=>{const n=r.request;if(q.isInstance(n)){const{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(Nr)===-1)try{const o=e(i);n.headers={...n.headers,[Nr]:String(o)}}catch{}}return t({...r,request:n})}}const Ha={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},qa=e=>({applyToStack:t=>{t.add(Ua(e.bodyLengthChecker),Ha)}}),Lr=e=>{var t,r;return Ze.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},is=e=>new Date(Date.now()+e),Ga=(e,t)=>Math.abs(is(t).getTime()-e)>=3e5,jr=(e,t)=>{const r=Date.parse(e);return Ga(r,t)?r-Date.now():t},Te=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},za=async e=>{var u,c,l;const t=Te("context",e.context),r=Te("config",e.config),n=(l=(c=(u=t.endpointV2)==null?void 0:u.properties)==null?void 0:c.authSchemes)==null?void 0:l[0],s=await Te("signer",r.signer)(n),o=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingName;return{config:r,signer:s,signingRegion:o,signingName:a}};class Va{async sign(t,r,n){if(!q.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:i,signer:s,signingRegion:o,signingName:a}=await za(n);return await s.sign(t,{signingDate:is(i.systemClockOffset),signingRegion:o,signingService:a})}errorHandler(t){return r=>{const n=r.ServerTime??Lr(r.$response);if(n){const i=Te("config",t.config),s=i.systemClockOffset;i.systemClockOffset=jr(n,i.systemClockOffset),i.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){const n=Lr(t);if(n){const i=Te("config",r.config);i.systemClockOffset=jr(n,i.systemClockOffset)}}}var ft={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ot=function(e,t){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ot(e,t)};function Wa(e,t){Ot(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Dt=function(){return Dt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Dt.apply(this,arguments)};function Ka(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Za(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Qa(e,t){return function(r,n){t(r,n,e)}}function Xa(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ya(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Ja(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ec(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function tc(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Bt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function os(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function rc(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(os(arguments[t]));return e}function nc(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Me(e){return this instanceof Me?(this.v=e,this):new Me(e)}function sc(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(y,m){s.push([d,h,y,m])>1||a(d,h)})})}function a(d,h){try{u(n[d](h))}catch(y){f(s[0][3],y)}}function u(d){d.value instanceof Me?Promise.resolve(d.value.v).then(c,l):f(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ic(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Me(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function oc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Bt=="function"?Bt(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function ac(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function cc(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function uc(e){return e&&e.__esModule?e:{default:e}}function lc(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function dc(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const fc=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Dt},__asyncDelegator:ic,__asyncGenerator:sc,__asyncValues:oc,__await:Me,__awaiter:Ya,__classPrivateFieldGet:lc,__classPrivateFieldSet:dc,__createBinding:ec,__decorate:Za,__exportStar:tc,__extends:Wa,__generator:Ja,__importDefault:uc,__importStar:cc,__makeTemplateObject:ac,__metadata:Xa,__param:Qa,__read:os,__rest:Ka,__spread:rc,__spreadArrays:nc,__values:Bt},Symbol.toStringTag,{value:"Module"})),as=se(fc);var ht={},he={},Ur;function hc(){if(Ur)return he;Ur=1,Object.defineProperty(he,"__esModule",{value:!0}),he.convertToBuffer=void 0;var e=Nn,t=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:e.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?t(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return he.convertToBuffer=r,he}var pe={},Hr;function pc(){if(Hr)return pe;Hr=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return pe.isEmptyData=e,pe}var ye={},qr;function yc(){if(qr)return ye;qr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.numToUint8=void 0;function e(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}return ye.numToUint8=e,ye}var me={},Gr;function mc(){if(Gr)return me;Gr=1,Object.defineProperty(me,"__esModule",{value:!0}),me.uint32ArrayFrom=void 0;function e(t){if(!Uint32Array.from){for(var r=new Uint32Array(t.length),n=0;n<t.length;)r[n]=t[n],n+=1;return r}return Uint32Array.from(t)}return me.uint32ArrayFrom=e,me}var zr;function je(){return zr||(zr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=hc();Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=pc();Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=yc();Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=mc();Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})}(ht)),ht}var ge={},Vr;function gc(){if(Vr)return ge;Vr=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.AwsCrc32=void 0;var e=as,t=je(),r=cs(),n=function(){function i(){this.crc32=new r.Crc32}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32.digest())]})})},i.prototype.reset=function(){this.crc32=new r.Crc32},i}();return ge.AwsCrc32=n,ge}var Wr;function cs(){return Wr||(Wr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=as,r=je();function n(u){return new i().update(u).digest()}e.crc32=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var l,f;try{for(var d=t.__values(c),h=d.next();!h.done;h=d.next()){var y=h.value;this.checksum=this.checksum>>>8^o[(this.checksum^y)&255]}}catch(m){l={error:m}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(l)throw l.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32=i;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(s),a=gc();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(ft)),ft}cs();class Oe{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&Kr(r),new Oe(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&Kr(t),parseInt(k(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Kr(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class wc{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){const r=[];for(const s of Object.keys(t)){const o=this.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(t.value,3),o;case"string":const a=this.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(Oe.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!Rc.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(ni(t.value.replace(/\-/g,"")),1),f}}parse(t){const r={};let n=0;for(;n<t.byteLength;){const i=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[s]={type:Qr,value:!0};break;case 1:r[s]={type:Qr,value:!1};break;case 2:r[s]={type:bc,value:t.getInt8(n++)};break;case 3:r[s]={type:_c,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:vc,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:Sc,value:new Oe(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:const o=t.getUint16(n,!1);n+=2,r[s]={type:xc,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:const a=t.getUint16(n,!1);n+=2,r[s]={type:Ec,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:Ac,value:new Date(new Oe(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const u=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:Cc,value:`${k(u.subarray(0,4))}-${k(u.subarray(4,6))}-${k(u.subarray(6,8))}-${k(u.subarray(8,10))}-${k(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Zr;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Zr||(Zr={}));const Qr="boolean",bc="byte",_c="short",vc="integer",Sc="long",xc="binary",Ec="string",Ac="timestamp",Cc="uuid",Rc=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Pc="X-Amz-Algorithm",Tc="X-Amz-Credential",us="X-Amz-Date",Oc="X-Amz-SignedHeaders",Dc="X-Amz-Expires",ls="X-Amz-Signature",ds="X-Amz-Security-Token",fs="authorization",hs=us.toLowerCase(),Bc="date",Mc=[fs,hs,Bc],$c=ls.toLowerCase(),Mt="x-amz-content-sha256",Ic=ds.toLowerCase(),Fc={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},kc=/^proxy-/,Nc=/^sec-/,pt="AWS4-HMAC-SHA256",Lc="AWS4-HMAC-SHA256-PAYLOAD",jc="UNSIGNED-PAYLOAD",Uc=50,ps="aws4_request",Hc=60*60*24*7,ze={},yt=[],mt=(e,t,r)=>`${e}/${t}/${r}/${ps}`,qc=async(e,t,r,n,i)=>{const s=await Xr(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${i}:${k(s)}:${t.sessionToken}`;if(o in ze)return ze[o];for(yt.push(o);yt.length>Uc;)delete ze[yt.shift()];let a=`AWS4${t.secretAccessKey}`;for(const u of[r,n,i,ps])a=await Xr(e,a,u);return ze[o]=a},Xr=(e,t,r)=>{const n=new e(t);return n.update(Pe(r)),n.digest()},Yr=({headers:e},t,r)=>{const n={};for(const i of Object.keys(e).sort()){if(e[i]==null)continue;const s=i.toLowerCase();(s in Fc||t!=null&&t.has(s)||kc.test(s)||Nc.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[i].trim().replace(/\s+/g," "))}return n},Gc=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e).sort()){if(n.toLowerCase()===$c)continue;t.push(n);const i=e[n];typeof i=="string"?r[n]=`${te(n)}=${te(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((s,o)=>s.concat([`${te(n)}=${te(o)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},zc=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",gt=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===Mt)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||zc(t)){const n=new r;return n.update(Pe(t)),k(await n.digest())}return jc},Vc=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},ys=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?Wc(t):void 0}),Wc=e=>Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),Kc=(e,t={})=>{var i;const{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():ys(e);for(const s of Object.keys(r)){const o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!((i=t.unhoistableHeaders)!=null&&i.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},Jr=e=>{e=typeof e.clone=="function"?e.clone():ys(e);for(const t of Object.keys(e.headers))Mc.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},Zc=e=>Qc(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Qc=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class en{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerMarshaller=new wc(Zt,Le),this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Z(n),this.credentialProvider=Z(r)}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:u,signingService:c}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const f=u??await this.regionProvider(),{longDate:d,shortDate:h}=Ve(n);if(i>Hc)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=mt(h,f,c??this.service),m=Kc(Jr(t),{unhoistableHeaders:o});l.sessionToken&&(m.query[ds]=l.sessionToken),m.query[Pc]=pt,m.query[Tc]=`${l.accessKeyId}/${y}`,m.query[us]=d,m.query[Dc]=i.toString(10);const g=Yr(m,s,a);return m.query[Oc]=tn(g),m.query[ls]=await this.getSignature(d,y,this.getSigningKey(l,f,h,c),this.createCanonicalRequest(m,g,await gt(t,this.sha256))),m}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){const a=s??await this.regionProvider(),{shortDate:u,longDate:c}=Ve(n),l=mt(u,a,o??this.service),f=await gt({headers:{},body:r},this.sha256),d=new this.sha256;d.update(t);const h=k(await d.digest()),y=[Lc,c,l,i,h,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerMarshaller.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:a}=Ve(r),u=new this.sha256(await this.getSigningKey(s,o,a,i));return u.update(Pe(t)),k(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const u=s??await this.regionProvider(),c=Jr(t),{longDate:l,shortDate:f}=Ve(r),d=mt(f,u,o??this.service);c.headers[hs]=l,a.sessionToken&&(c.headers[Ic]=a.sessionToken);const h=await gt(c,this.sha256);!Vc(Mt,c.headers)&&this.applyChecksum&&(c.headers[Mt]=h);const y=Yr(c,i,n),m=await this.getSignature(l,d,this.getSigningKey(a,u,f,o),this.createCanonicalRequest(c,y,h));return c.headers[fs]=`${pt} Credential=${a.accessKeyId}/${d}, SignedHeaders=${tn(y)}, Signature=${m}`,c}createCanonicalRequest(t,r,n){const i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Gc(t)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n){const i=new this.sha256;i.update(Pe(n));const s=await i.digest();return`${pt}
${t}
${r}
${k(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));const n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,i){const s=await this.createStringToSign(t,r,i),o=new this.sha256(await n);return o.update(Pe(s)),k(await o.digest())}getSigningKey(t,r,n,i){return qc(this.sha256,t,n,r,i||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const Ve=e=>{const t=Zc(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},tn=e=>Object.keys(e).sort().join(";"),Xc=e=>{let t;e.credentials&&(t=La(e.credentials,Na,ss)),t||(e.credentialDefaultProvider?t=Ge(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e;let s;return e.signer?s=Ge(e.signer):e.regionInfoProvider?s=()=>Ge(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:u,signingService:c}=o;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;const l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},f=e.signerConstructor||en;return new f(l)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Ge(e.region)(),properties:{}},o);const a=o.signingRegion,u=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||u||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},l=e.signerConstructor||en;return new l(c)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}},Yc=(e,t)=>si(e,t).then(r=>t.utf8Encoder(r)),ot=(e,t)=>Yc(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw(n==null?void 0:n.name)==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Jc=async(e,t)=>{const r=await ot(e,t);return r.message=r.message??r.Message,r},eu=(e,t)=>{const r=(s,o)=>Object.keys(s).find(a=>a.toLowerCase()===o.toLowerCase()),n=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},i=r(e.headers,"x-amzn-errortype");if(i!==void 0)return n(e.headers[i]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},tu=async(e,t,r)=>({operation:it(t).operation,region:await Z(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ru(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"geo",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}const nu=e=>{const t=[];switch(e.operation){default:t.push(ru(e))}return t},su=e=>({...Xc(e)}),iu=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"geo"}),or={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ou="@aws-sdk/client-location",au="AWS SDK for JavaScript Location Client for Node.js, Browser and React Native",cu="3.540.0",uu={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-location","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo location"},lu="./dist-cjs/index.js",du="./dist-types/index.d.ts",fu="./dist-es/index.js",hu=!1,pu={"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.540.0","@aws-sdk/core":"3.535.0","@aws-sdk/credential-provider-node":"3.540.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-user-agent":"3.540.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.540.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.0","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.0","@smithy/middleware-retry":"^2.2.0","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.0","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.0","@smithy/util-defaults-mode-node":"^2.3.0","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-stream":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},yu={"@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},mu={node:">=14.0.0"},gu={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},wu=["dist-*/**"],bu={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},_u="Apache-2.0",vu={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},Su="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-location",xu={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-location"},Eu={name:ou,description:au,version:cu,scripts:uu,main:lu,types:du,module:fu,sideEffects:hu,dependencies:pu,devDependencies:yu,engines:mu,typesVersions:gu,files:wu,author:bu,license:_u,browser:vu,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:Su,repository:xu};var ms={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $t=function(e,t){return $t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$t(e,t)};function Au(e,t){$t(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var It=function(){return It=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},It.apply(this,arguments)};function Cu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ru(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Pu(e,t){return function(r,n){t(r,n,e)}}function Tu(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ou(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Du(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Bu(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Mu(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ft(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gs(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function $u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gs(arguments[t]));return e}function Iu(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function $e(e){return this instanceof $e?(this.v=e,this):new $e(e)}function Fu(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(y,m){s.push([d,h,y,m])>1||a(d,h)})})}function a(d,h){try{u(n[d](h))}catch(y){f(s[0][3],y)}}function u(d){d.value instanceof $e?Promise.resolve(d.value.v).then(c,l):f(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ku(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:$e(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Nu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ft=="function"?Ft(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Lu(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ju(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Uu(e){return e&&e.__esModule?e:{default:e}}function Hu(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function qu(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Gu=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return It},__asyncDelegator:ku,__asyncGenerator:Fu,__asyncValues:Nu,__await:$e,__awaiter:Ou,__classPrivateFieldGet:Hu,__classPrivateFieldSet:qu,__createBinding:Bu,__decorate:Ru,__exportStar:Mu,__extends:Au,__generator:Du,__importDefault:Uu,__importStar:ju,__makeTemplateObject:Lu,__metadata:Tu,__param:Pu,__read:gs,__rest:Cu,__spread:$u,__spreadArrays:Iu,__values:Ft},Symbol.toStringTag,{value:"Module"})),zu=se(Gu);var we={},be={},_e={},rn;function Vu(){if(rn)return _e;rn=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return _e.isEmptyData=e,_e}var wt={},nn;function ws(){return nn||(nn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(wt)),wt}var sn;function bs(){if(sn)return be;sn=1,Object.defineProperty(be,"__esModule",{value:!0}),be.Sha256=void 0;var e=Vu(),t=ws(),r=Nn,n=Jt,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_256_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();be.Sha256=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_256_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return be}var ve={},on;function _s(){if(on)return ve;on=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.Sha256=void 0;var e=je(),t=ws(),r=Jt,n=function(){function i(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return i.prototype.update=function(s){if(!(0,e.isEmptyData)(s)){var o=(0,e.convertToBuffer)(s),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},i.prototype.digest=function(){var s=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(t.SHA_256_HMAC_ALGO,o,s.toHash).then(function(a){return new Uint8Array(a)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(t.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(t.SHA_256_HASH,s.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},i.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,e.convertToBuffer)(s.secret),t.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},i}();return ve.Sha256=n,ve}var bt={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kt=function(e,t){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},kt(e,t)};function Wu(e,t){kt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Nt=function(){return Nt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nt.apply(this,arguments)};function Ku(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Zu(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Qu(e,t){return function(r,n){t(r,n,e)}}function Xu(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Yu(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Ju(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function el(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function tl(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Lt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vs(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function rl(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vs(arguments[t]));return e}function nl(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Ie(e){return this instanceof Ie?(this.v=e,this):new Ie(e)}function sl(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(y,m){s.push([d,h,y,m])>1||a(d,h)})})}function a(d,h){try{u(n[d](h))}catch(y){f(s[0][3],y)}}function u(d){d.value instanceof Ie?Promise.resolve(d.value.v).then(c,l):f(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function il(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Ie(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function ol(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Lt=="function"?Lt(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function al(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function cl(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ul(e){return e&&e.__esModule?e:{default:e}}function ll(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function dl(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const fl=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Nt},__asyncDelegator:il,__asyncGenerator:sl,__asyncValues:ol,__await:Ie,__awaiter:Yu,__classPrivateFieldGet:ll,__classPrivateFieldSet:dl,__createBinding:el,__decorate:Zu,__exportStar:tl,__extends:Wu,__generator:Ju,__importDefault:ul,__importStar:cl,__makeTemplateObject:al,__metadata:Xu,__param:Qu,__read:vs,__rest:Ku,__spread:rl,__spreadArrays:nl,__values:Lt},Symbol.toStringTag,{value:"Module"})),Ss=se(fl);var Se={},I={},an;function xs(){return an||(an=1,Object.defineProperty(I,"__esModule",{value:!0}),I.MAX_HASHABLE_LENGTH=I.INIT=I.KEY=I.DIGEST_LENGTH=I.BLOCK_SIZE=void 0,I.BLOCK_SIZE=64,I.DIGEST_LENGTH=32,I.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),I.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],I.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),I}var xe={},cn;function hl(){if(cn)return xe;cn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.RawSha256=void 0;var e=xs(),t=function(){function r(){this.state=Int32Array.from(e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[i++],s--,this.bufferLength===e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%e.BLOCK_SIZE>=e.BLOCK_SIZE-8){for(var o=this.bufferLength;o<e.BLOCK_SIZE;o++)i.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<e.BLOCK_SIZE-8;o++)i.setUint8(o,0);i.setUint32(e.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),i.setUint32(e.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(e.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,i=n.buffer,s=n.state,o=s[0],a=s[1],u=s[2],c=s[3],l=s[4],f=s[5],d=s[6],h=s[7],y=0;y<e.BLOCK_SIZE;y++){if(y<16)this.temp[y]=(i[y*4]&255)<<24|(i[y*4+1]&255)<<16|(i[y*4+2]&255)<<8|i[y*4+3]&255;else{var m=this.temp[y-2],g=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[y-15];var w=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[y]=(g+this.temp[y-7]|0)+(w+this.temp[y-16]|0)}var b=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&f^~l&d)|0)+(h+(e.KEY[y]+this.temp[y]|0)|0)|0,E=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0;h=d,d=f,f=l,l=c+b|0,c=u,u=a,a=o,o=b+E|0}s[0]+=o,s[1]+=a,s[2]+=u,s[3]+=c,s[4]+=l,s[5]+=f,s[6]+=d,s[7]+=h},r}();return xe.RawSha256=t,xe}var un;function pl(){if(un)return Se;un=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.Sha256=void 0;var e=Ss,t=xs(),r=hl(),n=je(),i=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(u){this.error=u}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=s(this.secret),u=new Uint8Array(t.BLOCK_SIZE);u.set(a);for(var c=0;c<t.BLOCK_SIZE;c++)a[c]^=54,u[c]^=92;this.hash.update(a),this.outer.update(u);for(var c=0;c<a.byteLength;c++)a[c]=0}},o}();Se.Sha256=i;function s(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>t.BLOCK_SIZE){var u=new r.RawSha256;u.update(a),a=u.digest()}var c=new Uint8Array(t.BLOCK_SIZE);return c.set(a),c}return Se}var ln;function yl(){return ln||(ln=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ss;t.__exportStar(pl(),e)}(bt)),bt}var _t={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jt=function(e,t){return jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},jt(e,t)};function ml(e,t){jt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ut=function(){return Ut=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ut.apply(this,arguments)};function gl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function wl(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function bl(e,t){return function(r,n){t(r,n,e)}}function _l(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function vl(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Sl(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function xl(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function El(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ht(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Es(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Al(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Es(arguments[t]));return e}function Cl(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Fe(e){return this instanceof Fe?(this.v=e,this):new Fe(e)}function Rl(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(y,m){s.push([d,h,y,m])>1||a(d,h)})})}function a(d,h){try{u(n[d](h))}catch(y){f(s[0][3],y)}}function u(d){d.value instanceof Fe?Promise.resolve(d.value.v).then(c,l):f(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Pl(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Fe(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Tl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ht=="function"?Ht(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Ol(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Dl(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Bl(e){return e&&e.__esModule?e:{default:e}}function Ml(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function $l(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Il=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ut},__asyncDelegator:Pl,__asyncGenerator:Rl,__asyncValues:Tl,__await:Fe,__awaiter:vl,__classPrivateFieldGet:Ml,__classPrivateFieldSet:$l,__createBinding:xl,__decorate:wl,__exportStar:El,__extends:ml,__generator:Sl,__importDefault:Bl,__importStar:Dl,__makeTemplateObject:Ol,__metadata:_l,__param:bl,__read:Es,__rest:gl,__spread:Al,__spreadArrays:Cl,__values:Ht},Symbol.toStringTag,{value:"Module"})),As=se(Il);var N={},dn;function Fl(){if(dn)return N;dn=1,Object.defineProperty(N,"__esModule",{value:!0}),N.supportsZeroByteGCM=N.supportsSubtleCrypto=N.supportsSecureRandom=N.supportsWebCrypto=void 0;var e=As,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return i(a)}return!1}N.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}N.supportsSecureRandom=n;function i(o){return o&&t.every(function(a){return typeof o[a]=="function"})}N.supportsSubtleCrypto=i;function s(o){return e.__awaiter(this,void 0,void 0,function(){var a,u;return e.__generator(this,function(c){switch(c.label){case 0:if(!i(o))return[2,!1];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=c.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return u=c.sent(),[2,u.byteLength===16];case 4:return c.sent(),[2,!1];case 5:return[2]}})})}return N.supportsZeroByteGCM=s,N}var fn;function kl(){return fn||(fn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=As;t.__exportStar(Fl(),e)}(_t)),_t}var vt={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qt=function(e,t){return qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qt(e,t)};function Nl(e,t){qt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Gt=function(){return Gt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Gt.apply(this,arguments)};function Ll(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function jl(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Ul(e,t){return function(r,n){t(r,n,e)}}function Hl(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ql(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(f){o(f)}}function u(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Gl(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zl(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Vl(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function zt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cs(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Wl(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cs(arguments[t]));return e}function Kl(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function ke(e){return this instanceof ke?(this.v=e,this):new ke(e)}function Zl(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(y,m){s.push([d,h,y,m])>1||a(d,h)})})}function a(d,h){try{u(n[d](h))}catch(y){f(s[0][3],y)}}function u(d){d.value instanceof ke?Promise.resolve(d.value.v).then(c,l):f(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ql(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:ke(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Xl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof zt=="function"?zt(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Yl(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Jl(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ed(e){return e&&e.__esModule?e:{default:e}}function td(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function rd(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const nd=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Gt},__asyncDelegator:Ql,__asyncGenerator:Zl,__asyncValues:Xl,__await:ke,__awaiter:ql,__classPrivateFieldGet:td,__classPrivateFieldSet:rd,__createBinding:zl,__decorate:jl,__exportStar:Vl,__extends:Nl,__generator:Gl,__importDefault:ed,__importStar:Jl,__makeTemplateObject:Yl,__metadata:Hl,__param:Ul,__read:Cs,__rest:Ll,__spread:Wl,__spreadArrays:Kl,__values:zt},Symbol.toStringTag,{value:"Module"})),sd=se(nd);var St={},hn;function id(){return hn||(hn=1,Object.defineProperty(St,"__esModule",{value:!0})),St}var xt={},pn;function od(){return pn||(pn=1,Object.defineProperty(xt,"__esModule",{value:!0})),xt}var Et={},yn;function ad(){return yn||(yn=1,Object.defineProperty(Et,"__esModule",{value:!0})),Et}var At={},mn;function cd(){return mn||(mn=1,Object.defineProperty(At,"__esModule",{value:!0})),At}var Ee={},gn;function ud(){if(gn)return Ee;gn=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(t(n)&&n.msCrypto.subtle!==void 0){var i=n.msCrypto,s=i.getRandomValues,o=i.subtle;return e.map(function(a){return o[a]}).concat(s).every(function(a){return typeof a=="function"})}return!1}return Ee.isMsWindow=r,Ee}var wn;function ld(){return wn||(wn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=sd;t.__exportStar(id(),e),t.__exportStar(od(),e),t.__exportStar(ad(),e),t.__exportStar(cd(),e),t.__exportStar(ud(),e)}(vt)),vt}var bn;function dd(){if(bn)return we;bn=1,Object.defineProperty(we,"__esModule",{value:!0}),we.Sha256=void 0;var e=bs(),t=_s(),r=yl(),n=kl(),i=ld(),s=Jt,o=je(),a=function(){function u(c){(0,n.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new t.Sha256(c):(0,i.isMsWindow)((0,s.locateWindow)())?this.hash=new e.Sha256(c):this.hash=new r.Sha256(c)}return u.prototype.update=function(c,l){this.hash.update((0,o.convertToBuffer)(c))},u.prototype.digest=function(){return this.hash.digest()},u.prototype.reset=function(){this.hash.reset()},u}();return we.Sha256=a,we}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=zu;t.__exportStar(dd(),e);var r=bs();Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=_s();Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(ms);const fd=({serviceId:e,clientVersion:t})=>async()=>{var i,s,o,a,u;const r=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?jn.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${((s=r==null?void 0:r.os)==null?void 0:s.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((u=r==null?void 0:r.browser)==null?void 0:u.version)??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n},hd=e=>()=>Promise.reject(e),_n=typeof TextEncoder=="function"?new TextEncoder:null,pd=e=>{if(typeof e=="string"){if(_n)return _n.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},Rs="required",U="fn",H="argv",de="ref",vn=!0,Sn="isSet",Ne="booleanEquals",oe="error",Ae="endpoint",V="tree",ar="PartitionResult",xn={[Rs]:!1,type:"String"},En={[Rs]:!0,default:!1,type:"Boolean"},An={[de]:"Endpoint"},Ps={[U]:Ne,[H]:[{[de]:"UseFIPS"},!0]},Ts={[U]:Ne,[H]:[{[de]:"UseDualStack"},!0]},j={},Cn={[U]:"getAttr",[H]:[{[de]:ar},"supportsFIPS"]},Rn={[U]:Ne,[H]:[!0,{[U]:"getAttr",[H]:[{[de]:ar},"supportsDualStack"]}]},Pn=[Ps],Tn=[Ts],On=[{[de]:"Region"}],yd={version:"1.0",parameters:{Region:xn,UseDualStack:En,UseFIPS:En,Endpoint:xn},rules:[{conditions:[{[U]:Sn,[H]:[An]}],rules:[{conditions:Pn,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:oe},{conditions:Tn,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:oe},{endpoint:{url:An,properties:j,headers:j},type:Ae}],type:V},{conditions:[{[U]:Sn,[H]:On}],rules:[{conditions:[{[U]:"aws.partition",[H]:On,assign:ar}],rules:[{conditions:[Ps,Ts],rules:[{conditions:[{[U]:Ne,[H]:[vn,Cn]},Rn],rules:[{endpoint:{url:"https://geo-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:j,headers:j},type:Ae}],type:V},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:oe}],type:V},{conditions:Pn,rules:[{conditions:[{[U]:Ne,[H]:[Cn,vn]}],rules:[{endpoint:{url:"https://geo-fips.{Region}.{PartitionResult#dnsSuffix}",properties:j,headers:j},type:Ae}],type:V},{error:"FIPS is enabled but this partition does not support FIPS",type:oe}],type:V},{conditions:Tn,rules:[{conditions:[Rn],rules:[{endpoint:{url:"https://geo.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:j,headers:j},type:Ae}],type:V},{error:"DualStack is enabled but this partition does not support DualStack",type:oe}],type:V},{endpoint:{url:"https://geo.{Region}.{PartitionResult#dnsSuffix}",properties:j,headers:j},type:Ae}],type:V}],type:V},{error:"Invalid Configuration: Missing Region",type:oe}]},md=yd,gd=(e,t={})=>bo(md,{endpointParams:e,logger:t.logger});Je.aws=Zn;const wd=e=>({apiVersion:"2020-11-19",base64Decoder:(e==null?void 0:e.base64Decoder)??Kt,base64Encoder:(e==null?void 0:e.base64Encoder)??Mn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??gd,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??nu,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Va}],logger:(e==null?void 0:e.logger)??new $n,serviceId:(e==null?void 0:e.serviceId)??"Location",urlParser:(e==null?void 0:e.urlParser)??et,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Le,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Zt}),bd=["in-region","cross-region","mobile","standard","legacy"],_d=({defaultsMode:e}={})=>Us(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(vd()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${bd.join(", ")}, got ${t}`)}}),vd=()=>{var r,n;const e=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?jn.parse(window.navigator.userAgent):void 0,t=(n=e==null?void 0:e.platform)==null?void 0:n.type;return t==="tablet"||t==="mobile"},Sd=e=>{const t=_d(e),r=()=>t().then(yi),n=wd(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??pd,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??fd({serviceId:n.serviceId,clientVersion:Eu.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??tt,region:(e==null?void 0:e.region)??hd("Region is missing"),requestHandler:Wt.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await r()).retryMode||na),sha256:(e==null?void 0:e.sha256)??ms.Sha256,streamCollector:(e==null?void 0:e.streamCollector)??Qs,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Do)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Bo))}},xd=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},Ed=e=>({region:e.region()}),Ad=e=>{const t=e.httpAuthSchemes;let r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){const s=t.findIndex(o=>o.schemeId===i.schemeId);s===-1?t.push(i):t.splice(s,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},Cd=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),We=e=>e,Rd=(e,t)=>{const r={...We(xd(e)),...We(_i(e)),...We(Hs(e)),...We(Ad(e))};return t.forEach(n=>n.configure(r)),{...e,...Ed(r),...vi(r),...qs(r),...Cd(r)}};class Pd extends ei{constructor(...[t]){const r=Sd(t||{}),n=iu(r),i=Mo(n),s=Xo(i),o=Aa(s),a=o,u=Ji(a),c=su(u),l=Rd(c,(t==null?void 0:t.extensions)||[]);super(l),this.config=l,this.middlewareStack.use(Da(this.config)),this.middlewareStack.use(qa(this.config)),this.middlewareStack.use(Gi(this.config)),this.middlewareStack.use(Wi(this.config)),this.middlewareStack.use(Yi(this.config)),this.middlewareStack.use(Oo(this.config)),this.middlewareStack.use(Jo(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use($a(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return tu}getIdentityProviderConfigProvider(){return async t=>new Ia({"aws.auth#sigv4":t.credentials})}}class G extends Yt{constructor(t){super(t),Object.setPrototypeOf(this,G.prototype)}}class cr extends G{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,cr.prototype),this.Message=t.Message}}class ur extends G{constructor(t){super({name:"ConflictException",$fault:"client",...t}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,ur.prototype),this.Message=t.Message}}class lr extends G{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",this.$retryable={},Object.setPrototypeOf(this,lr.prototype),this.Message=t.Message}}class dr extends G{constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,dr.prototype),this.Message=t.Message}}class fr extends G{constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),this.name="ThrottlingException",this.$fault="client",this.$retryable={},Object.setPrototypeOf(this,fr.prototype),this.Message=t.Message}}class hr extends G{constructor(t){super({name:"ValidationException",$fault:"client",...t}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,hr.prototype),this.Message=t.Message,this.Reason=t.Reason,this.FieldList=t.FieldList}}class pr extends G{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,pr.prototype),this.Message=t.Message}}const Td=e=>({...e,...e.DeparturePosition&&{DeparturePosition:P},...e.DestinationPosition&&{DestinationPosition:P},...e.WaypointPositions&&{WaypointPositions:P},...e.Key&&{Key:P}}),Od=e=>({...e,...e.LineString&&{LineString:P}}),Dd=e=>({...e,...e.StartPosition&&{StartPosition:P},...e.EndPosition&&{EndPosition:P}}),Bd=e=>({...e,...e.StartPosition&&{StartPosition:P},...e.EndPosition&&{EndPosition:P},...e.Geometry&&{Geometry:Od(e.Geometry)},...e.Steps&&{Steps:e.Steps.map(t=>Dd(t))}}),Md=e=>({...e,...e.RouteBBox&&{RouteBBox:P}}),$d=e=>({...e,...e.Legs&&{Legs:e.Legs.map(t=>Bd(t))},...e.Summary&&{Summary:Md(e.Summary)}}),Id=e=>({...e,...e.Key&&{Key:P}}),Fd=e=>({...e,...e.Point&&{Point:P}}),kd=e=>({...e,...e.Geometry&&{Geometry:Fd(e.Geometry)}}),Nd=e=>({...e,...e.Place&&{Place:kd(e.Place)}}),Ld=e=>({...e,...e.Text&&{Text:P},...e.BiasPosition&&{BiasPosition:P},...e.FilterBBox&&{FilterBBox:P},...e.Key&&{Key:P}}),jd=e=>({...e,...e.Text&&{Text:P},...e.BiasPosition&&{BiasPosition:P},...e.FilterBBox&&{FilterBBox:P}}),Ud=e=>({...e,...e.Summary&&{Summary:jd(e.Summary)}}),Hd=async(e,t)=>{const r=ir(e,t),n={"content-type":"application/json"};r.bp("/routes/v0/calculators/{CalculatorName}/calculate/route"),r.p("CalculatorName",()=>e.CalculatorName,"{CalculatorName}",!1);const i=M({[gr]:[,e[mr]]});let s;s=JSON.stringify(x(e,{ArrivalTime:a=>a.toISOString().split(".")[0]+"Z",CarModeOptions:a=>L(a),DepartNow:[],DeparturePosition:a=>rt(a),DepartureTime:a=>a.toISOString().split(".")[0]+"Z",DestinationPosition:a=>rt(a),DistanceUnit:[],IncludeLegGeometry:[],OptimizeFor:[],TravelMode:[],TruckModeOptions:a=>nf(a),WaypointPositions:a=>af(a)}));let{hostname:o}=await t.endpoint();if(t.disableHostPrefix!==!0&&(o="routes."+o,!Vt(o)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return r.hn(o),r.m("POST").h(n).q(i).b(s),r.build()},qd=async(e,t)=>{const r=ir(e,t),n={};r.bp("/places/v0/indexes/{IndexName}/places/{PlaceId}"),r.p("IndexName",()=>e.IndexName,"{IndexName}",!1),r.p("PlaceId",()=>e.PlaceId,"{PlaceId}",!1);const i=M({[vf]:[,e[_f]],[gr]:[,e[mr]]});let s,{hostname:o}=await t.endpoint();if(t.disableHostPrefix!==!0&&(o="places."+o,!Vt(o)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return r.hn(o),r.m("GET").h(n).q(i).b(s),r.build()},Gd=async(e,t)=>{const r=ir(e,t),n={"content-type":"application/json"};r.bp("/places/v0/indexes/{IndexName}/search/suggestions"),r.p("IndexName",()=>e.IndexName,"{IndexName}",!1);const i=M({[gr]:[,e[mr]]});let s;s=JSON.stringify(x(e,{BiasPosition:a=>rt(a),FilterBBox:a=>rf(a),FilterCategories:a=>L(a),FilterCountries:a=>L(a),Language:[],MaxResults:[],Text:[]}));let{hostname:o}=await t.endpoint();if(t.disableHostPrefix!==!0&&(o="places."+o,!Vt(o)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return r.hn(o),r.m("POST").h(n).q(i).b(s),r.build()},zd=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yr(e,t);const r=M({$metadata:z(e)}),n=Qt(Xt(await ot(e.body,t)),"body"),i=x(n,{Legs:s=>df(s),Summary:s=>cf(s)});return Object.assign(r,i),r},Vd=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yr(e,t);const r=M({$metadata:z(e)}),n=Qt(Xt(await ot(e.body,t)),"body"),i=x(n,{Place:s=>hf(s)});return Object.assign(r,i),r},Wd=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yr(e,t);const r=M({$metadata:z(e)}),n=Qt(Xt(await ot(e.body,t)),"body"),i=x(n,{Results:L,Summary:s=>yf(s)});return Object.assign(r,i),r},yr=async(e,t)=>{const r={...e,body:await Jc(e.body,t)},n=eu(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":throw await Zd(r);case"ConflictException":case"com.amazonaws.location#ConflictException":throw await Qd(r);case"InternalServerException":case"com.amazonaws.location#InternalServerException":throw await Xd(r);case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":throw await Yd(r);case"ServiceQuotaExceededException":case"com.amazonaws.location#ServiceQuotaExceededException":throw await Jd(r);case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":throw await ef(r);case"ValidationException":case"com.amazonaws.location#ValidationException":throw await tf(r);default:const i=r.body;return Kd({output:e,parsedBody:i,errorCode:n})}},Kd=hi(G),Zd=async(e,t)=>{const r=M({}),n=e.body,i=x(n,{Message:[,S,"message"]});Object.assign(r,i);const s=new cr({$metadata:z(e),...r});return J(s,e.body)},Qd=async(e,t)=>{const r=M({}),n=e.body,i=x(n,{Message:[,S,"message"]});Object.assign(r,i);const s=new ur({$metadata:z(e),...r});return J(s,e.body)},Xd=async(e,t)=>{const r=M({}),n=e.body,i=x(n,{Message:[,S,"message"]});Object.assign(r,i);const s=new lr({$metadata:z(e),...r});return J(s,e.body)},Yd=async(e,t)=>{const r=M({}),n=e.body,i=x(n,{Message:[,S,"message"]});Object.assign(r,i);const s=new pr({$metadata:z(e),...r});return J(s,e.body)},Jd=async(e,t)=>{const r=M({}),n=e.body,i=x(n,{Message:[,S,"message"]});Object.assign(r,i);const s=new dr({$metadata:z(e),...r});return J(s,e.body)},ef=async(e,t)=>{const r=M({}),n=e.body,i=x(n,{Message:[,S,"message"]});Object.assign(r,i);const s=new fr({$metadata:z(e),...r});return J(s,e.body)},tf=async(e,t)=>{const r=M({}),n=e.body,i=x(n,{FieldList:[,o=>bf(o),"fieldList"],Message:[,S,"message"],Reason:[,S,"reason"]});Object.assign(r,i);const s=new hr({$metadata:z(e),...r});return J(s,e.body)},rf=(e,t)=>e.filter(r=>r!=null).map(r=>ce(r)),nf=(e,t)=>x(e,{AvoidFerries:[],AvoidTolls:[],Dimensions:r=>sf(r),Weight:r=>of(r)}),rt=(e,t)=>e.filter(r=>r!=null).map(r=>ce(r)),sf=(e,t)=>x(e,{Height:ce,Length:ce,Unit:[],Width:ce}),of=(e,t)=>x(e,{Total:ce,Unit:[]}),af=(e,t)=>e.filter(r=>r!=null).map(r=>rt(r)),Os=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>X(n)),cf=(e,t)=>x(e,{DataSource:S,Distance:X,DistanceUnit:S,DurationSeconds:X,RouteBBox:r=>Os(r)}),uf=(e,t)=>x(e,{Distance:X,DurationSeconds:X,EndPosition:r=>ne(r),Geometry:r=>lf(r),StartPosition:r=>ne(r),Steps:r=>gf(r)}),lf=(e,t)=>x(e,{LineString:r=>ff(r)}),df=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>uf(n)),ff=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ne(n)),hf=(e,t)=>x(e,{AddressNumber:S,Categories:L,Country:S,Geometry:r=>pf(r),Interpolated:oi,Label:S,Municipality:S,Neighborhood:S,PostalCode:S,Region:S,Street:S,SubMunicipality:S,SubRegion:S,SupplementalCategories:L,TimeZone:L,UnitNumber:S,UnitType:S}),pf=(e,t)=>x(e,{Point:r=>ne(r)}),ne=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>X(n)),yf=(e,t)=>x(e,{BiasPosition:r=>ne(r),DataSource:S,FilterBBox:r=>Os(r),FilterCategories:L,FilterCountries:L,Language:S,MaxResults:Fn,Text:S}),mf=(e,t)=>x(e,{Distance:X,DurationSeconds:X,EndPosition:r=>ne(r),GeometryOffset:Fn,StartPosition:r=>ne(r)}),gf=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>mf(n)),wf=(e,t)=>x(e,{Message:[,S,"message"],Name:[,S,"name"]}),bf=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>wf(n)),z=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),mr="Key",_f="Language",gr="key",vf="language";class Sf extends nt.classBuilder().ep({...or}).m(function(t,r,n,i){return[nr(n,this.serialize,this.deserialize),sr(n,t.getEndpointParameterInstructions())]}).s("LocationService","CalculateRoute",{}).n("LocationClient","CalculateRouteCommand").f(Td,$d).ser(Hd).de(zd).build(){}class xf extends nt.classBuilder().ep({...or}).m(function(t,r,n,i){return[nr(n,this.serialize,this.deserialize),sr(n,t.getEndpointParameterInstructions())]}).s("LocationService","GetPlace",{}).n("LocationClient","GetPlaceCommand").f(Id,Nd).ser(qd).de(Vd).build(){}class Ef extends nt.classBuilder().ep({...or}).m(function(t,r,n,i){return[nr(n,this.serialize,this.deserialize),sr(n,t.getEndpointParameterInstructions())]}).s("LocationService","SearchPlaceIndexForSuggestions",{}).n("LocationClient","SearchPlaceIndexForSuggestionsCommand").f(Ld,Ud).ser(Gd).de(Wd).build(){}async function Af(){const e=Is();try{const t=await Ui(e.public.AWS_LOCATION_SERVICE_KEY);return new Pd({region:"us-east-1",...t.getLocationClientConfig()})}catch(t){throw console.error("Error initializing Location client:",t),t}}const Cf=[-100.6689,24.4389,-99.7383,25.6955],Dn=async(e,t)=>{const r={IndexName:"TaxiGo",Text:e,FilterBBox:Cf},n=new Ef(r);return await t.send(n)},Bn=async(e,t)=>{try{const r={IndexName:"TaxiGo",PlaceId:e},n=new xf(r);return await t.send(n)}catch(r){throw console.error("Error getting place:",r),r}},Rf=async(e,t,r)=>{try{const n={CalculatorName:"TaxiGo",DestinationPosition:t,DeparturePosition:e},i=new Sf(n);return await r.send(i)}catch(n){throw console.error("Error calculating route:",n),n}},Pf=n=>{var n=parseInt(n,10),t=Math.floor(n/3600),r=Math.floor((n-t*3600)/60),n=n-t*3600-r*60;return t?r?`${t}h ${r}m ${n}s`:`${t}h ${n}s`:r?`${r}m ${n}s`:`${n}s`},Tf={class:"w-1/2 p-4 mx-auto text-center border"},Of=R("p",null,"Calculemos el costo de un viaje en taxi del punto A al punto B",-1),Df={class:"card flex justify-center"},Bf=R("label",{for:"originInput"},"Punto de partida ",-1),Mf={class:"card flex justify-center"},$f=R("label",{for:"destinationInput"},"Punto de llegada ",-1),If={class:"card flex justify-center"},Ff=R("p",null,"fake texts",-1),kf=R("p",null,"Central de Autobuses de Monterrey",-1),Nf=R("p",null,"Avenida de la Primavera 1517",-1),Lf=R("p",null,null,-1),jf={class:"m-0"},Uf=R("i",{class:"pi pi-map-marker"},null,-1),Hf={class:"m-0"},qf=R("i",{class:"pi pi-stopwatch"},null,-1),Gf=R("p",{class:"m-0"},[R("i",{class:"pi pi-money-bill"}),Ce(" Costo")],-1),zf={class:"m-0"},Vf=R("i",{class:"pi pi-sun"},null,-1),Wf={class:"m-0"},Kf=R("i",{class:"pi pi-moon"},null,-1),lh={__name:"taxi",setup(e){let t;async function r(){t=await Af()}r();const n=$(""),i=$([]),s=$([]),o=$([]),a=async C=>{try{const _=await Dn(C.query,t);i.value=_.Results,s.value=i.value.map(O=>O.Text)}catch(_){console.error("Error searching for places:",_)}},u=async C=>{try{const _=i.value.find(fe=>fe.Text===C.value).PlaceId,O=await Bn(_,t);o.value=O.Place.Geometry.Point,console.log("Coordenadas del lugar:",o.value)}catch(_){console.error("Error getting place coordinates:",_)}},c=$(""),l=$([]),f=$([]),d=$([]),h=async C=>{try{const _=await Dn(C.query,t);l.value=_.Results,f.value=l.value.map(O=>O.Text)}catch(_){console.error("Error searching for places:",_)}},y=async C=>{try{const _=l.value.find(fe=>fe.Text===C.value).PlaceId,O=await Bn(_,t);d.value=O.Place.Geometry.Point,console.log("Coordenadas del lugar:",d.value)}catch(_){console.error("Error getting place coordinates:",_)}},m=$(!1),g=$(0),w=$(0),b=$(0),E=$(0),D=async()=>{m.value=!0;try{const C=await Rf(o.value,d.value,t);console.log(C),g.value=C.Summary.Distance.toFixed(2),w.value=C.Summary.DurationSeconds.toFixed(2);const[_,O]=js(g.value,w.value);b.value=_,E.value=O}catch(C){console.error("Error calculating for route:",C)}finally{m.value=!1}};return(C,_)=>{const O=Bs,fe=Ms,Ds=$s;return Ns(),Fs("div",Tf,[Of,R("div",Df,[Bf,Ue(O,{"input-id":"originInput",modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=at=>n.value=at),suggestions:s.value,onComplete:a,onItemSelect:u,forceSelection:""},null,8,["modelValue","suggestions"])]),R("div",Mf,[$f,Ue(O,{"input-id":"destinationInput",modelValue:c.value,"onUpdate:modelValue":_[1]||(_[1]=at=>c.value=at),suggestions:f.value,onComplete:h,onItemSelect:y,forceSelection:""},null,8,["modelValue","suggestions"])]),R("div",If,[Ue(fe,{label:"Enviar",onClick:D})]),Ff,kf,Nf,Lf,Ue(Ds,{header:"Header"},{default:ks(()=>[R("p",jf,[Uf,Ce(" Distancia: "+He(g.value)+"km ",1)]),R("p",Hf,[qf,Ce(" Duracion: "+He(Ls(Pf)(w.value)),1)]),Gf,R("p",zf,[Vf,Ce(" Durante el dia: $"+He(b.value),1)]),R("p",Wf,[Kf,Ce(" Durante la noche: $"+He(E.value),1)])]),_:1})])}}};export{lh as default};
