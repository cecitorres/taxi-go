import M from"./LBBD8Amg.js";import N from"./q2sZul2h.js";import V from"./BnwsRxHO.js";import{u as z,a as A,i as G,_ as j,b as U,c as $,e as Q,d as q}from"./DwzZhw9R.js";import{P as H,_ as J,r as t,o as K,G as O,v as W,z as o,Q as _,R as m,x as s,M as f,t as X,C as Y,D as Z,S as ee}from"./CWNtf_ar.js";import"./erEMGY0V.js";import"./DxfhQGgP.js";import"./CANR_nya.js";import"./Bumar2cC.js";import"./D6wFCyCg.js";import"./BSC4esCg.js";import"./gqjhnyv6.js";import"./75ZIeB7k.js";import"./BbR6wUVp.js";import"./CCfbULOm.js";import"./BmN0SFdH.js";import"./D9lF-nl8.js";function te(){const a=H();return{addErrorToast:(r,n)=>{a.add({severity:"error",summary:r,detail:n,life:5e3})}}}const T=a=>(Y("data-v-b1bda022"),a=a(),Z(),a),oe={class:"h-full pb-4"},ae=T(()=>s("div",{class:"flex"},null,-1)),se={class:"absolute z-10 flex items-center justify-center w-full h-full bg-white bg-opacity-60"},re=T(()=>s("p",{class:"mb-4 text-4xl"},"Â¿A dÃ³nde?ðŸš•ðŸ’¨",-1)),ne={class:"my-4"},ce={__name:"taxi",setup(a){const{addErrorToast:c}=te(),r=t(),n=t([]),d=t([]),l=t(""),{getUserLocation:g}=z(),{loading:le,distance:I,duration:R,fareCost:k,routeString:S,calculateTaxiFare:C}=A(r),v=t(null),h=t(!1),x=t(),b=t(),p=t(!0),i=t(!1);K(async()=>{try{r.value=await G(),n.value=await g()}catch(e){c(null,e.message)}});const P=async()=>{try{l.value=await $();const e=await Q(l.value,r.value);d.value=e.Geometry.Point,l.value=e.Label,i.value=!0}catch{c(null,"Intente otra direccion")}};O([n,d],async([e,u])=>{if((e==null?void 0:e.length)>0&&(u==null?void 0:u.length)>0)try{await C(n.value,d.value),v.value.drawRoute(S.value),h.value=!0,p.value=!0,i.value=!1,await ee(),b.value.scrollIntoView({behavior:"smooth"})}catch{i.value=!1,c(null,"Intente otra direccion")}},{deep:!0});const B=()=>{x.value.scrollIntoView({behavior:"smooth"}),p.value=!1};return(e,u)=>{const w=M,D=N,y=V,E=q,F=j,L=U;return X(),W("div",oe,[ae,o(w,{class:"!w-auto"}),_(s("div",se,[o(D)],512),[[m,i.value]]),s("div",{class:"flex flex-col items-center justify-center h-screen",ref_key:"startRef",ref:x},[re,o(y,{onClick:P,icon:"pi pi-microphone",severity:"warning",class:"mx-auto big p-button-rounded"})],512),_(s("div",{class:"flex flex-col",ref_key:"resultRef",ref:b},[s("div",ne,[o(E,{ref_key:"mapRef",ref:v},null,512)]),o(F,{"fare-cost":f(k)},null,8,["fare-cost"]),o(L,{"origin-address":"Mi ubicacion","destination-address":l.value,distance:Number(f(I)),duration:Number(f(R))},null,8,["destination-address","distance","duration"]),_(o(y,{onClick:B,severity:"secondary",icon:"pi pi-angle-double-up",class:"!fixed !rounded-full bottom-5 end-5"},null,512),[[m,p.value]])],512),[[m,h.value]])])}}},ke=J(ce,[["__scopeId","data-v-b1bda022"]]);export{ke as default};
