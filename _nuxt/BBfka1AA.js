import M from"./DFbEi37J.js";import N from"./BrU5G40s.js";import V from"./CZTVvqYS.js";import{u as z,a as A,i as G,_ as j,b as U,c as $,e as Q,d as q}from"./ZgAK-qJT.js";import{P as H,_ as J,r as e,o as K,G as O,v as W,z as o,Q as m,R as f,x as a,M as v,t as X,C as Y,D as Z,S as ee}from"./DEh89na_.js";import"./D2s-Ch24.js";import"./BggKQQQ2.js";import"./DVX1rKpv.js";import"./CD6fnDbo.js";import"./Ch5wuj95.js";import"./DYxxkybU.js";import"./Dl5ASjSF.js";import"./DuAmMBfL.js";import"./DnR19zqB.js";import"./DC9x9w0X.js";import"./lVif_jgD.js";import"./CXeeACRJ.js";function te(){const s=H();return{addErrorToast:(n,r)=>{s.add({severity:"error",summary:n,detail:r,life:5e3})}}}const g=s=>(Y("data-v-b2584994"),s=s(),Z(),s),oe={class:"h-full pb-4"},se=g(()=>a("div",{class:"flex"},null,-1)),ae={class:"absolute z-10 flex items-center justify-center w-full h-full bg-white bg-opacity-60"},ne=g(()=>a("p",{class:"mb-4 text-4xl"},"Â¿A dÃ³nde?ðŸš•ðŸ’¨",-1)),re={class:"my-4"},ce={__name:"taxi",setup(s){const{addErrorToast:c}=te(),n=e(),r=e([]),u=e([]),i=e(""),{getUserLocation:T}=z(),{loading:ie,distance:R,duration:I,fareCost:k,routeString:S,calculateTaxiFare:C}=A(n),h=e(null),x=e(!1),w=e(),y=e(),d=e(!0),l=e(!1);K(async()=>{try{n.value=await G(),r.value=await T()}catch(t){c(null,t.message)}});const P=async()=>{try{i.value=await $();const t=await Q(i.value,n.value);u.value=t.Geometry.Point,i.value=t.Label,l.value=!0}catch{c(null,"Intente otra direccion")}};O([r,u],async([t,p])=>{try{console.log(t,p),t.length>0&&p.length>0&&(await C(r.value,u.value),h.value.drawRoute(S.value),x.value=!0,d.value=!0,l.value=!1,await ee(),y.value.scrollIntoView({behavior:"smooth"}))}catch(_){l.value=!1,c(null,_.message)}},{deep:!0});const B=()=>{w.value.scrollIntoView({behavior:"smooth"}),d.value=!1};return(t,p)=>{const _=M,D=N,b=V,E=q,F=j,L=U;return X(),W("div",oe,[se,o(_,{class:"!w-auto"}),m(a("div",ae,[o(D)],512),[[f,l.value]]),a("div",{class:"flex flex-col items-center justify-center h-screen",ref_key:"startRef",ref:w},[ne,o(b,{onClick:P,icon:"pi pi-microphone",severity:"warning",class:"mx-auto big p-button-rounded"})],512),m(a("div",{class:"flex flex-col",ref_key:"resultRef",ref:y},[a("div",re,[o(E,{ref_key:"mapRef",ref:h},null,512)]),o(F,{"fare-cost":v(k)},null,8,["fare-cost"]),o(L,{"origin-address":"Mi ubicacion","destination-address":i.value,distance:Number(v(R)),duration:Number(v(I))},null,8,["destination-address","distance","duration"]),m(o(b,{onClick:B,severity:"secondary",icon:"pi pi-angle-double-up",class:"!fixed !rounded-full bottom-5 end-5"},null,512),[[f,d.value]])],512),[[f,x.value]])])}}},ke=J(ce,[["__scopeId","data-v-b2584994"]]);export{ke as default};
